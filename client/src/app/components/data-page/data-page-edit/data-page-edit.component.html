
<div class="alert-danger form-error" role="alert" *ngIf="this.form.invalid">
    <div [innerHTML]="errorMessage()"></div>
</div>
<form *ngIf="greenhouse.decodedToken.role != 6"  action=""  [formGroup]="form" (ngSubmit)="onSubmit() ">
    <div class="row mt-0" data-masonry='{"percentPosition": true }'>
        <div class="col-sm-12 col-md-4 col-lg-3 text-center">
            <div class="p-3 bg-white mt-4 data-box">
                <p class="small m-0 fw-bold">Air temprature (&#8451;)</p>
                <div class="input-group noselect mt-2">
                    <input type="number" id="airTemperature" class="form-control text-center"
                        aria-label="Air temprature" formControlName="airTemperature" step="0.3" min="10" max="40">
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-3 text-center">
            <div class="p-3 bg-white mt-4 data-box">
                <p class="small m-0 fw-bold">Soil temprature (&#8451;)</p>
                <div class="input-group noselect mt-2">
                    <input type="number" id="soilTemperature" class="form-control text-center"
                        aria-label="Soil temprature" formControlName="soilTemperature" step="0.3" min="10" max="40">
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-3 text-center">
            <div class="p-3 bg-white mt-4 data-box">
                <p class="small m-0 fw-bold">Soil mix ID</p>
                <div class="input-group noselect mt-2">
                    <input type="number" id="soilMixId" class="form-control text-center" aria-label="Soil ID"
                        formControlName="soilMixId" step="1" min="1" max="10000">
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-3 text-center">
            <div class="p-3 bg-white mt-4 data-box">
                <p class="small m-0 fw-bold">Water mix ID</p>
                <div class="input-group noselect mt-2">
                    <input type="number" id="waterMixId" class="form-control text-center" aria-label="Water ID"
                        formControlName="waterMixId" step="1" min="1" max="10000">
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-3 text-center">
            <div class="p-3 bg-white mt-4 data-box">
                <p class="small m-0 fw-bold">Soil humidity</p>
                <div class="input-group noselect mt-2">
                    <input type="number" id="soilHumidity" class="form-control text-center" aria-label="Soil humidity"
                        formControlName="soilHumidity" step="1" min="12" max="99">
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-3 text-center">
            <div class="p-3 bg-white mt-4 data-box">
                <p class="small m-0 fw-bold">Air humidity</p>
                <div class="input-group noselect mt-2">
                    <input type="number" id="airHumidity" class="form-control text-center" aria-label="Air humidity"
                        formControlName="airHumidity" step="1" min="12" max="99">
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-3 text-center">
            <div class="p-3 bg-white mt-4 data-box">
                <p class="small m-0 fw-bold">Water pH</p>
                <div class="input-group noselect mt-2">
                    <input type="number" id="waterPH" class="form-control text-center" aria-label="Water PH"
                        formControlName="waterPH" step="1" min="5" max="8">
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-3">
            <div class="p-3 bg-white mt-4">
                <p class="small  text-center">Lighting settings</p>
                <label for="inputColor" class="small">Color</label>
                <input type="color" class="form-control form-control-color w-100" id="lightingHex"
                    formControlName="lightingHex" style="width: 45px; height: 43px;">

                <label for="exposure" class="small mt-2">Hours</label>
                <input type="number" class="form-control w-100" step="0.1" id="exposure" formControlName="exposure">
            </div>
        </div>
    </div>
    <div class="w-100 button-bar">
        <button type="button" id="update-a" class="btn btn-cc px-4 float-end" [disabled]="updateCheck()" data-bs-toggle="modal"
            data-bs-target="#staticBackdrop">Update</button>
        <button type="button" id="reset-btn"class="btn btn-secondary px-4 float-end me-2" [disabled]="resetCheck()"
            (click)="onReset()">Reset</button>
    </div>

    <div class="container alert-box fixed-top"></div>

    <div class="modal fade noselect" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false"
        tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="staticBackdropLabel"><i class="bi bi-exclamation-triangle"></i> Updating
                        greenhouse</h5>
                </div>
                <div class="modal-body">
                    <p>This action <b>cannot be undone</b>! Are you sure you want to update the greenhouse?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn text-danger fw-bold" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" id="update-b" class="btn btn-cc" [disabled]="updateCheck()"
                        data-bs-dismiss="modal">Update</button>
                </div>
            </div>
        </div>
    </div>
</form>
